<table>
  <thead>
    <tr>
      <th></th>
      <th>Date</th>
      <th>Teammate</th>
      <th>Opponent</th>
      <th>Result</th>
      <th>Game 1</th>
      <th>Game 2</th>
      <th>Game 3</th>
    </tr>
  </thead>
  <tbody>
    <% @player.matches.each do |match| %>
      <tr>
        <td class='ranking'>#<%= link_to(match.id, match) %></td>
        <td><%= link_to(match.datestr, match) %></td>
        <td class="teams">
          <% teammate = match.teammate(@player) %>
          <%= player_link(teammate) if teammate %>
        </td>
        <td class="teams">
          <ul>
          <% match.opponents(@player).each do |opp| %>
            <%= content_tag(:li) { player_link(opp) } %>
          <% end %>
          </ul>
        </td>
        <td><%= match.is_winning_player?(@player) ? '<b>WIN</b>'.html_safe : 'LOSS' %></td>
        <td><%= match.game_1_score_1 %> - <%= match.game_1_score_2 %></td>
        <td><%= match.game_2_score_1 %> - <%= match.game_2_score_2 %></td>
        <td><%= match.game_3_score_1 %> - <%= match.game_3_score_2 %></td>
      </tr>
    <% end %>
  </tbody>
</table>
